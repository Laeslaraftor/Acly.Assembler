namespace Acly.Assembler.Tables
{
    /// <summary>
    /// Перечисление типов системных дескрипторов, используемых в GDT (Global Descriptor Table) и LDT (Local Descriptor Table).
    /// Эти значения соответствуют полю "System Segment or Gate Type" в 8 байте дескриптора.
    /// </summary>
    public enum SystemDescriptorType : byte
    {
        /// <summary>
        /// Локальная дескрипторная таблица (LDT). 
        /// Такой дескриптор указывает на другую таблицу дескрипторов, привязанную к задаче.
        /// </summary>
        LocalDescriptionTable = 0x2,
        /// <summary>
        /// Доступный 16-битный TSS (Task State Segment) — используется для хранения состояния задачи.
        /// Обычно применяется в многозадачных системах в защищённом режиме.
        /// </summary>
        /// <remarks>Примечание: устаревший тип для 16-битной архитектуры.</remarks>
        AvailableTaskStateSegment16 = 0x1,
        /// <summary>
        /// Занятый 16-битный TSS — означает, что задача, связанная с этим TSS, сейчас выполняется.
        /// Используется процессором для отслеживания состояния задачи.
        /// </summary>
        BusyTaskStateSegment16 = 0x3,
        /// <summary>
        /// Доступный 32-битный TSS — современный тип для 32-битных систем.
        /// Используется в защищённом режиме для переключения задач.
        /// </summary>
        AvailableTaskStateSegment32 = 0x9,
        /// <summary>
        /// Занятый 32-битный TSS — аналогично BusyTSS_16, но для 32-битной архитектуры.
        /// Указывает, что задача активна.
        /// </summary>
        BusyTaskStateSegment32 = 0xB,
        /// <summary>
        /// Вызовный шлюз (Call gate) 32-битный — механизм для безопасного вызова процедур с изменением уровня привилегий (CPL).
        /// Позволяет вызывать код с определённым уровнем привилегий через контролируемую точку входа.
        /// </summary>
        CallGate_32 = 0xC,
        /// <summary>
        /// Шлюз задачи (Task gate) — ссылается на TSS через селектор задачи.
        /// Используется при обработке аппаратных и программных прерываний для переключения задач.
        /// </summary>
        TaskGate = 0x5
    }
}
